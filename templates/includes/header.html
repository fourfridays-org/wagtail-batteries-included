{% load navigation_tags static %}

<nav class="navbar navbar-expand-md bg-body-tertiary p-3" role="navigation">
    <a class="navbar-brand" href="/" title="{{ current_site.site_name }}">{{ current_site.site_name }}</a>
    <button class="mx-2 navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    {% block main_navigation %}
        <div class="collapse navbar-collapse" id="navbarSupportedContent" role="navigation" aria-label="Primary site navigation">
            <ul class="navbar-nav me-auto">
                {# main_menu is defined in pages/templatetags/navigation_tags.py #}
                {% get_site_root as site_root %}
                {% top_menu parent=site_root calling_page=self %}
            </ul>

            <button
                id="theme-toggle"
                class="btn btn-sm btn-outline-secondary my-2 my-md-0"
                type="button"
                aria-label="Toggle color mode"
                title="Toggle color mode"
            >
                <span class="visually-hidden">Toggle color mode</span>

                <svg data-theme-icon="dark" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M21 12.79A9 9 0 0 1 11.21 3a7 7 0 1 0 9.79 9.79z" />
                </svg>

                <svg data-theme-icon="light" class="d-none" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-14a1 1 0 0 1-1-1V2a1 1 0 1 1 2 0v1a1 1 0 0 1-1 1zm0 20a1 1 0 0 1-1-1v-1a1 1 0 1 1 2 0v1a1 1 0 0 1-1 1zM4 13H3a1 1 0 1 1 0-2h1a1 1 0 1 1 0 2zm18 0h-1a1 1 0 1 1 0-2h1a1 1 0 1 1 0 2zM6.34 6.34a1 1 0 0 1-.7-.29L4.93 5.34a1 1 0 1 1 1.41-1.41l.71.71a1 1 0 0 1-.71 1.7zm12.02 12.02a1 1 0 0 1-.7-.29l-.71-.71a1 1 0 1 1 1.41-1.41l.71.71a1 1 0 0 1-.71 1.7zM18.36 6.34a1 1 0 0 1-.71-1.7l.71-.71a1 1 0 1 1 1.41 1.41l-.71.71a1 1 0 0 1-.7.29zM6.34 18.36a1 1 0 0 1-.71-1.7l.71-.71a1 1 0 1 1 1.41 1.41l-.71.71a1 1 0 0 1-.7.29z" />
                </svg>
            </button>
        </div>
    {% endblock %}
</nav>